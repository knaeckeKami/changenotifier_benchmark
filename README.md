# value notifier benchmarks

This benchmark may help us in finding a faster implementation for ChangeNotifier.

The times have been measured on my Huawei Mate 20 Pro in release mode.

## Updates test

```
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
 │                                                                              ValueNotifier benchmark                                                                               │
 ├─────────────┬──────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬────────────────────────┬──────────────────────────────┬─────────────────────┤
 │             │ InitialValueNotifier│    ValueNotifier    │    Value (GetX)     │ ProposedValueNotifier │ LinkedListValueNotifier│ CustomLinkedListValueNotifier│       Thomas2       │
 │  Listeners  ├──────────┬───────────┼─────────┬───────────┼─────────┬───────────┼─────────┬───────────┼───────────┬────────────┼──────────────┬───────────────┼─────────┬───────────┤
 │             │ Updates  │ Time [µs] │ Updates │ Time [µs] │ Updates │ Time [µs] │ Updates │ Time [µs] │  Updates  │ Time [µs]  │   Updates    │   Time [µs]   │ Updates │ Time [µs] │
 ├─────────────┼──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │       10 │        12 │      10 │         5 │      10 │         2 │      10 │         1 │        10 │          4 │           10 │             2 │      10 │         2 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │      100 │        37 │     100 │        16 │     100 │         3 │     100 │         2 │       100 │          9 │          100 │             3 │     100 │         4 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │           1 │     1000 │       354 │    1000 │       154 │    1000 │        34 │    1000 │        24 │      1000 │         84 │         1000 │            35 │    1000 │        38 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │    10000 │      5382 │   10000 │      1524 │   10000 │       343 │   10000 │       240 │     10000 │       2812 │        10000 │           354 │   10000 │      1282 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │   100000 │     39079 │  100000 │     24034 │  100000 │      5012 │  100000 │      2402 │    100000 │      15323 │       100000 │          4513 │  100000 │      5325 │
 ├─────────────┼──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │       10 │        13 │      10 │         5 │      10 │         1 │      10 │         1 │        10 │          4 │           10 │             2 │      10 │         2 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │      100 │        69 │     100 │        19 │     100 │         4 │     100 │         3 │       100 │         11 │          100 │             6 │     100 │         6 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │           2 │     1000 │       672 │    1000 │       194 │    1000 │        44 │    1000 │        35 │      1000 │        115 │         1000 │            57 │    1000 │        60 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │    10000 │      6794 │   10000 │      3167 │   10000 │       431 │   10000 │       350 │     10000 │       1940 │        10000 │           579 │   10000 │       599 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │   100000 │     72049 │  100000 │     29445 │  100000 │      8034 │  100000 │      3500 │    100000 │      26415 │       100000 │          6267 │  100000 │      6981 │
 ├─────────────┼──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │       10 │        23 │      10 │         5 │      10 │         2 │      10 │         1 │        10 │          4 │           10 │             2 │      10 │         2 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │      100 │       108 │     100 │        30 │     100 │         6 │     100 │         6 │       100 │         18 │          100 │            10 │     100 │        10 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │           4 │     1000 │      1022 │    1000 │       300 │    1000 │        63 │    1000 │        56 │      1000 │        173 │         1000 │           106 │    1000 │       106 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │    10000 │     13121 │   10000 │      5689 │   10000 │       622 │   10000 │       558 │     10000 │       1732 │        10000 │          1043 │   10000 │      1064 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │   100000 │    118111 │  100000 │     40684 │  100000 │      6680 │  100000 │      5613 │    100000 │      26285 │       100000 │         11870 │  100000 │     11954 │
 ├─────────────┼──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │       10 │        34 │      10 │         8 │      10 │         2 │      10 │         1 │        10 │          6 │           10 │             3 │      10 │         3 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │      100 │       195 │     100 │        55 │     100 │        12 │     100 │        11 │       100 │         37 │          100 │            22 │     100 │        22 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │           8 │     1000 │      1999 │    1000 │       550 │    1000 │       118 │    1000 │       120 │      1000 │        346 │         1000 │           225 │    1000 │       217 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │    10000 │     23104 │   10000 │      6479 │   10000 │      2157 │   10000 │      1192 │     10000 │       3429 │        10000 │          2247 │   10000 │      2180 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │   100000 │    212594 │  100000 │     76645 │  100000 │     12551 │  100000 │     11982 │    100000 │      43261 │       100000 │         24119 │  100000 │     23292 │
 ├─────────────┼──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │       10 │        60 │      10 │        13 │      10 │         3 │      10 │         3 │        10 │          9 │           10 │             6 │      10 │         6 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │      100 │       392 │     100 │       100 │     100 │        21 │     100 │        21 │       100 │         62 │          100 │            42 │     100 │        41 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │          16 │     1000 │      3830 │    1000 │      4820 │    1000 │       204 │    1000 │       206 │      1000 │        594 │         1000 │           404 │    1000 │       406 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │    10000 │     39216 │   10000 │     14013 │   10000 │      2034 │   10000 │      2063 │     10000 │       7393 │        10000 │          4026 │   10000 │      4029 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │   100000 │    418545 │  100000 │    125095 │  100000 │     23827 │  100000 │     21162 │    100000 │      76135 │       100000 │         41458 │  100000 │     41040 │
 ├─────────────┼──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │       10 │       106 │      10 │        22 │      10 │         5 │      10 │         5 │        10 │         17 │           10 │            10 │      10 │        11 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │      100 │       792 │     100 │       183 │     100 │        36 │     100 │        39 │       100 │        113 │          100 │            79 │     100 │        80 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │          32 │     1000 │      7513 │    1000 │      3198 │    1000 │       354 │    1000 │       383 │      1000 │       1106 │         1000 │           783 │    1000 │       784 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │    10000 │     83751 │   10000 │     25812 │   10000 │      3530 │   10000 │      3807 │     10000 │      12923 │        10000 │          7980 │   10000 │      7840 │
 │             ├──────────┼───────────┼─────────┼───────────┼─────────┼───────────┼─────────┼───────────┼───────────┼────────────┼──────────────┼───────────────┼─────────┼───────────┤
 │             │   100000 │    803670 │  100000 │    246240 │  100000 │     36604 │  100000 │     38046 │    100000 │     139285 │       100000 │         79600 │  100000 │     80003 │
 ├─────────────┼──────────┴───────────┼─────────┴───────────┼─────────┴───────────┼─────────┴───────────┼───────────┴────────────┼──────────────┴───────────────┼─────────┴───────────┤
 │ Total Time: │              1852647 │              608504 │              102739 │               91833 │                 359645 │                       185853 │              187389 │
 └─────────────┴──────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴────────────────────────┴──────────────────────────────┴─────────────────────┘
```

## Remove Listeners test


```
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                                    Remove Listeners benchmark test                                                     │
├─────────────┬───────────────┬──────────────┬─────────────────────┬─────────────────────────┬───────────┬───────────────────────────────┤
│             │ ValueNotifier │ Value (GetX) │ ProposedValueNotifier │ LinkedListValueNotifier │  Thomas2  │ CustomLinkedListValueNotifier │
│  Listeners  ├───────────────┼──────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
│             │   Time [µs]   │  Time [µs]   │      Time [µs]      │        Time [µs]        │ Time [µs] │           Time [µs]           │
├─────────────┼───────────────┼──────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
│           1 │             2 │            2 │                   1 │                       3 │         1 │                             1 │
├─────────────┼───────────────┼──────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
│           2 │             1 │            0 │                   1 │                       2 │         1 │                             1 │
├─────────────┼───────────────┼──────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
│           4 │             2 │            1 │                   1 │                       2 │         1 │                             1 │
├─────────────┼───────────────┼──────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
│           8 │             3 │            2 │                   2 │                       3 │         3 │                             3 │
├─────────────┼───────────────┼──────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
│          16 │             6 │            6 │                   5 │                       6 │         6 │                             6 │
├─────────────┼───────────────┼──────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
│          32 │            14 │           12 │                 624 │                      12 │        11 │                            11 │
├─────────────┼───────────────┼──────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
│         128 │            53 │           79 │                  80 │                      54 │        47 │                            54 │
├─────────────┼───────────────┼──────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
│        1024 │           443 │         3102 │                3205 │                     423 │       428 │                           370 │
├─────────────┼───────────────┼──────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
│ Total Time: │           524 │         3204 │                3919 │                     505 │       498 │                           447 │
└─────────────┴───────────────┴──────────────┴─────────────────────┴─────────────────────────┴───────────┴───────────────────────────────┘
```

## Remove all listeners, while ValueNotifier is notifying*


```
 ┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
 │                                                  Remove Listeners while notify benchmark test                                                   │
 ├─────────────┬───────────────────────┬───────────────┬─────────────────────┬─────────────────────────┬───────────┬───────────────────────────────┤
 │             │ InitialValueNotifier │ ValueNotifier │ ProposedValueNotifier │ LinkedListValueNotifier │  Thomas2  │ CustomLinkedListValueNotifier │
 │  Listeners  ├───────────────────────┼───────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
 │             │       Time [µs]       │   Time [µs]   │      Time [µs]      │        Time [µs]        │ Time [µs] │           Time [µs]           │
 ├─────────────┼───────────────────────┼───────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
 │           1 │                     5 │             2 │                   1 │                       2 │         1 │                             1 │
 ├─────────────┼───────────────────────┼───────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
 │           2 │                     3 │             2 │                   1 │                       2 │         1 │                             1 │
 ├─────────────┼───────────────────────┼───────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
 │           4 │                    10 │             1 │                   2 │                       1 │         1 │                             1 │
 ├─────────────┼───────────────────────┼───────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
 │           8 │                    10 │             3 │                   4 │                       3 │         2 │                             2 │
 ├─────────────┼───────────────────────┼───────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
 │          16 │                    21 │             5 │                  17 │                       4 │        17 │                             3 │
 ├─────────────┼───────────────────────┼───────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
 │          32 │                    40 │            10 │                  64 │                       9 │         8 │                             7 │
 ├─────────────┼───────────────────────┼───────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
 │          64 │                    96 │            20 │                 334 │                      18 │        16 │                            15 │
 ├─────────────┼───────────────────────┼───────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
 │         128 │                   252 │            40 │                1285 │                      37 │        33 │                            28 │
 ├─────────────┼───────────────────────┼───────────────┼─────────────────────┼─────────────────────────┼───────────┼───────────────────────────────┤
 │ Total Time: │                   437 │            83 │                1708 │                      76 │        79 │                            58 │
 └─────────────┴───────────────────────┴───────────────┴─────────────────────┴─────────────────────────┴───────────┴───────────────────────────────┘```
```

*not supported by GetX

## Add listeners

```
 ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
 │                                                                     addListener benchmark                                                                      │
 ├─────────────┬───────────────────────┬───────────────┬──────────────┬─────────────────────┬───────────┬─────────────────────────┬───────────────────────────────┤
 │             │ InitialValueNotifier │ ValueNotifier │ Value (GetX) │ ProposedValueNotifier │  Thomas2  │ LinkedListValueNotifier │ CustomLinkedListValueNotifier │
 │  Listeners  ├───────────────────────┼───────────────┼──────────────┼─────────────────────┼───────────┼─────────────────────────┼───────────────────────────────┤
 │             │       Time [µs]       │   Time [µs]   │  Time [µs]   │      Time [µs]      │ Time [µs] │        Time [µs]        │           Time [µs]           │
 ├─────────────┼───────────────────────┼───────────────┼──────────────┼─────────────────────┼───────────┼─────────────────────────┼───────────────────────────────┤
 │           1 │                     0 │             0 │            0 │                   0 │         0 │                       0 │                             0 │
 ├─────────────┼───────────────────────┼───────────────┼──────────────┼─────────────────────┼───────────┼─────────────────────────┼───────────────────────────────┤
 │           2 │                     0 │             0 │            0 │                   0 │         0 │                       0 │                             0 │
 ├─────────────┼───────────────────────┼───────────────┼──────────────┼─────────────────────┼───────────┼─────────────────────────┼───────────────────────────────┤
 │           4 │                     0 │             0 │            0 │                   0 │         0 │                       0 │                             0 │
 ├─────────────┼───────────────────────┼───────────────┼──────────────┼─────────────────────┼───────────┼─────────────────────────┼───────────────────────────────┤
 │           8 │                     0 │             0 │            0 │                   0 │         5 │                       0 │                             0 │
 ├─────────────┼───────────────────────┼───────────────┼──────────────┼─────────────────────┼───────────┼─────────────────────────┼───────────────────────────────┤
 │          16 │                     1 │             3 │            0 │                   0 │         8 │                       1 │                             1 │
 ├─────────────┼───────────────────────┼───────────────┼──────────────┼─────────────────────┼───────────┼─────────────────────────┼───────────────────────────────┤
 │          32 │                     9 │             7 │            1 │                   2 │         2 │                      17 │                            11 │
 ├─────────────┼───────────────────────┼───────────────┼──────────────┼─────────────────────┼───────────┼─────────────────────────┼───────────────────────────────┤
 │          64 │                     4 │             4 │           11 │                   2 │         5 │                       4 │                             3 │
 ├─────────────┼───────────────────────┼───────────────┼──────────────┼─────────────────────┼───────────┼─────────────────────────┼───────────────────────────────┤
 │         128 │                    26 │            21 │            9 │                  17 │        17 │                      18 │                            10 │
 ├─────────────┼───────────────────────┼───────────────┼──────────────┼─────────────────────┼───────────┼─────────────────────────┼───────────────────────────────┤
 │ Total Time: │                    40 │            35 │           21 │                  21 │        37 │                      40 │                            25 │
 └─────────────┴───────────────────────┴───────────────┴──────────────┴─────────────────────┴───────────┴─────────────────────────┴───────────────────────────────┘
 ```
